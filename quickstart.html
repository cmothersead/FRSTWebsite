<script src="https://apis.google.com/js/api.js"></script>
<script>
    /**
     * Sample JavaScript code for calendar.events.list
     * See instructions for running APIs Explorer code samples locally:
     * https://developers.google.com/explorer-help/guides/code_samples#javascript
     */

    gapi.load("client", init);

    function init() {
        gapi.client.init({
            'apiKey': 'AIzaSyAjbzmiW3uXLXc72fsCloea3U9zO6bke0Y',
            'discoveryDocs': ['https://content.googleapis.com/discovery/v1/apis/calendar/v3/rest']
        });
    }
    // Make sure the client is loaded before calling this method.
    function execute() {
        var contents = document.getElementById("contents");
        return gapi.client.calendar.events.list({
                "calendarId": "c_classroom443edbdc@group.calendar.google.com",
                'orderBy': 'startTime',
                "singleEvents": true
            })
            .then(function(response) {
                    // Handle the results here (response.result has the parsed body).
                    var events = response.result.items;
                    if (events.length > 0) {
                        events = Array.from(events);
                        var practices = events.map(event => event = {
                            summary: event.summary,
                            start: new Date(event.start.dateTime ? event.start.dateTime : event.start.date),
                            end: new Date(event.end.dateTime ? event.end.dateTime : event.end.date),
                        }).filter(event => event.summary.includes("Practice") && !event.summary.includes("No Practice"));
                        practices.forEach(element => addDiv(element.summary + ' : ' + element.start.toLocaleTimeString([], {
                            hour: 'numeric',
                            minute: 'numeric'
                        }) + '-' + element.end.toLocaleTimeString([], {
                            hour: 'numeric',
                            minute: 'numeric'
                        }), element.start.getHours() < 12));
                    }
                },
                function(err) {
                    console.error("Execute error", err);
                });
    }

    function addDiv(content, am) {
        var contents = document.getElementById('contents');
        var div = document.createElement("div");
        div.innerHTML = content;
        if (am) {
            div.setAttribute("style", "color: red;");
        }
        document.getElementById('contents').appendChild(div);
    }
</script>
<button onclick="execute()">execute</button>
<div id="contents"></div>